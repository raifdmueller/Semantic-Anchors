@import 'tailwindcss';
@import './asciidoctor-scoped.css';

/* Configure Tailwind v4 dark mode to use class strategy */
@variant dark (.dark &);

:root {
  --color-primary: #2563eb;
  --color-primary-dark: #1d4ed8;
  --color-bg: #ffffff;
  --color-bg-secondary: #f3f4f6;
  --color-text: #1f2937;
  --color-text-secondary: #6b7280;
  --color-border: #e5e7eb;
}

.dark {
  --color-primary: #60a5fa;
  --color-primary-dark: #3b82f6;
  --color-bg: #111827;
  --color-bg-secondary: #1f2937;
  --color-text: #f9fafb;
  --color-text-secondary: #9ca3af;
  --color-border: #374151;
}

body {
  margin: 0;
  font-family: Inter, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background-color: var(--color-bg);
  color: var(--color-text);
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
}

*,
*::before,
*::after {
  transition:
    background-color 0.3s ease,
    color 0.3s ease,
    border-color 0.3s ease;
}

#app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Card Grid Styles */
.card-grid-container {
  @apply max-w-7xl mx-auto px-4 py-8;
  font-family: Inter, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

#page-content,
#main-content,
.anchor-card,
.anchor-card-title,
.anchor-card-meta,
.anchor-card-proponents,
.category-heading {
  font-family: Inter, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* Force sans-serif on all card descendants to override AsciiDoc serif fonts */
.anchor-card,
.anchor-card *,
.card-grid-container,
.card-grid-container *,
.anchor-cards-grid,
.anchor-cards-grid * {
  font-family: Inter, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
}

.category-section {
  @apply mb-12;
}

.category-section[style*='display: none'] {
  @apply hidden;
}

.category-heading {
  @apply text-2xl font-bold mb-6 flex items-center gap-3;
  @apply text-gray-900 dark:text-gray-100;
}

/* Ensure category name is visible in dark mode */
.category-heading span[data-i18n^='categories.'] {
  @apply text-gray-900 dark:text-gray-100;
}

.category-icon {
  @apply w-10 h-10 rounded-lg flex-shrink-0;
  @apply shadow-md;
  @apply flex items-center justify-center;
  @apply text-2xl;
}

.anchor-cards-grid {
  @apply grid gap-4;
  @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
}

.anchor-card {
  @apply relative p-5 rounded-lg border-2 cursor-pointer;
  @apply bg-white dark:bg-gray-800;
  @apply border-gray-200 dark:border-gray-700;
  @apply transition-all duration-200;
  @apply overflow-hidden;
}

.anchor-card:hover,
.anchor-card:focus {
  @apply border-blue-500 dark:border-blue-400;
  @apply shadow-lg;
  @apply transform -translate-y-1;
  @apply outline-none;
}

.anchor-card:focus-visible {
  @apply ring-2 ring-blue-500 ring-offset-2;
  @apply dark:ring-blue-400 dark:ring-offset-gray-900;
}

.anchor-card-header {
  @apply flex items-start justify-between gap-2 mb-2;
}

.anchor-card-title {
  @apply text-lg font-semibold flex-1;
  @apply text-gray-900 dark:text-gray-100;
  @apply leading-tight;
}

.anchor-edit-btn,
.anchor-copy-link-btn {
  @apply flex-shrink-0 p-1 rounded;
  @apply text-gray-400 hover:text-blue-500;
  @apply hover:bg-gray-100 dark:hover:bg-gray-700;
  @apply transition-colors duration-200;
  @apply border-0 bg-transparent cursor-pointer;
}

.anchor-edit-btn:hover,
.anchor-copy-link-btn:hover {
  @apply scale-110;
}

.anchor-card-proponents {
  @apply text-sm text-gray-600 dark:text-gray-400 mb-3;
  @apply italic;
}

.anchor-card-meta {
  @apply flex flex-wrap items-center gap-2 text-xs;
  @apply text-gray-500 dark:text-gray-400;
}

.meta-badge {
  @apply flex items-center gap-1;
  @apply px-2 py-1 rounded;
  @apply bg-gray-100 dark:bg-gray-700;
}

.anchor-card-indicator {
  @apply absolute bottom-0 left-0 right-0 h-1;
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .category-heading {
    @apply text-xl;
  }

  .category-icon {
    @apply w-6 h-6;
  }

  .anchor-card {
    @apply p-4;
  }

  .anchor-card-title {
    @apply text-base;
  }

  /* Make buttons more touch-friendly on mobile */
  .anchor-edit-btn,
  .anchor-copy-link-btn {
    @apply p-2;
  }

  .anchor-edit-btn svg,
  .anchor-copy-link-btn svg {
    @apply w-5 h-5;
  }

  /* Increase gap between buttons for easier tapping */
  .anchor-card-header .flex {
    @apply gap-2;
  }
}

/* Asciidoctor Dark Mode Overrides */
.dark .asciidoc-content {
  background: var(--color-bg);
  color: #f9fafb;
}

.dark .asciidoc-content h1,
.dark .asciidoc-content h2,
.dark .asciidoc-content h3,
.dark .asciidoc-content h4,
.dark .asciidoc-content h5,
.dark .asciidoc-content h6 {
  color: #f9fafb;
}

.dark .asciidoc-content a {
  color: #60a5fa;
}

.dark .asciidoc-content a:hover {
  color: #93c5fd;
}

.dark .asciidoc-content code {
  color: #f9fafb;
  background: #374151;
}

.dark .asciidoc-content pre {
  background: #1f2937;
  color: #f9fafb;
}

.dark .asciidoc-content blockquote {
  border-left-color: #60a5fa;
  color: #d1d5db;
  background: #1f2937;
}

.dark .asciidoc-content table {
  border-color: #374151;
}

.dark .asciidoc-content th {
  background: #374151;
  color: #f9fafb;
}

.dark .asciidoc-content td {
  border-color: #374151;
}

.dark .asciidoc-content .admonitionblock {
  background: #1f2937;
}

.dark .asciidoc-content hr {
  border-color: #374151;
}

/* Toast Animations */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(1rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(1rem);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

.animate-fade-out {
  animation: fade-out 0.3s ease-out;
}
